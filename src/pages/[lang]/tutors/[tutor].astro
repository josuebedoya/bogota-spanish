---
import TutorTemplate from "@/templates/tutor.astro";
import { getTutorData } from "@/server/services/getTutorData";
import { getLang } from "@/i18n/utils";

const { tutor } = Astro.params;
const lang = getLang(Astro.url);
const { data, error } = await getTutorData(tutor || "", lang);

if (error) {
  return Astro.redirect("/500");
}

if (!data) {
  return Astro.redirect("/404");
}
---

<TutorTemplate
  name={data.name_tutor}
  photo={data.photo.src_path}
  description={data.description}
/>
