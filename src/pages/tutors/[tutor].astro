---
import TutorTemplate from "@/templates/tutor.astro";
import { getTutorData } from "@/server/services/getTutorData";
import { defaultLang } from "@/i18n/ui";

const { tutor } = Astro.params;
const { data, error } = await getTutorData(tutor || "", defaultLang);

if (error) {
  return Astro.redirect("/500");
}

if (!data) {
  return Astro.redirect("/404");
}
---

<TutorTemplate
  name={data.name_tutor}
  photo={data.photo.src_path}
  description={data.description}
/>
