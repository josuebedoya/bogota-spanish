---
import MeetExpertTutors from "@/components/orgnisms/MeetExpertTutors.astro";
import MainBannerAbout from "@/components/orgnisms/MainBannerAbout.astro";
import LayoutPage from "@/layouts/LayoutPage.astro";
import OurPhilosophy from "@/components/orgnisms/OurPhilosophy.astro";
import { staticData } from "@/server/static-data";
import { getAboutUsData } from "@/server/services/getAboutUsData";
import { getLang } from "@/i18n/utils";

const lang = getLang(Astro.url);
const { dataMainBanner, dataMeetTutors, dataOurPhilosophy } =
  (await getAboutUsData(lang)) as any;

interface Props {
  lang?: string;
}

const description = dataMainBanner?.summary || staticData.about_us.description;
const descriptionPage = description.slice(0, 150) + "...";
---

<LayoutPage
  title={dataMainBanner?.title || "About us"}
  description={descriptionPage}
>
  <div class="about-page-area-wrapper single-page-section-top-space">
    <MainBannerAbout {...dataMainBanner} />
    <MeetExpertTutors {...dataMeetTutors} />
    <OurPhilosophy {...dataOurPhilosophy} />
  </div>
</LayoutPage>
